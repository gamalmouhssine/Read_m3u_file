@model List<string>
<!DOCTYPE html>
<html>
<head>
    <title>Video Player</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        :root {
            --background: #141414;
            --surface: #232323;
            --primary: #e50914;
            --text: #ffffff;
            --text-secondary: #b3b3b3;
        }

        body {
            font-family: 'Netflix Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: var(--background);
            color: var(--text);
            margin: 0;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0;
        }

        .header {
            background: linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, transparent 100%);
            padding: 1rem 2rem;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }

        .logo {
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: bold;
            text-decoration: none;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 2rem;
            padding: 5rem 2rem 2rem 2rem;
        }

        #video-player {
            background: black;
            border-radius: 4px;
            overflow: hidden;
            position: relative;
        }

        #main-video {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
        }

        #playlist {
            background: var(--surface);
            border-radius: 4px;
            overflow: hidden;
            height: calc(100vh - 7rem);
            position: sticky;
            top: 5rem;
        }

        .playlist-header {
            padding: 1rem;
            background: rgba(0,0,0,0.2);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .playlist-content {
            overflow-y: auto;
            height: calc(100% - 3.5rem);
        }

        #playlist ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #playlist li {
            transition: all 0.2s ease;
        }

        #playlist a {
            display: flex;
            padding: 1rem;
            color: var(--text);
            text-decoration: none;
            border-left: 3px solid transparent;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

            #playlist a:hover {
                background: rgba(255,255,255,0.1);
                border-left-color: var(--primary);
            }

            #playlist a.active {
                background: rgba(229, 9, 20, 0.1);
                border-left-color: var(--primary);
                color: var(--primary);
            }

        .episode-number {
            min-width: 2rem;
            margin-right: 1rem;
            opacity: 0.7;
        }

       
            grid-template-columns: 1fr;
        }

        #playlist {
            height: auto;
            position: relative;
            top: 0;
        }

        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--surface);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
        }

            ::-webkit-scrollbar-thumb:hover {
                background: rgba(255,255,255,0.3);
            }
    </style>
</head>
<body>
    <header class="header">
        <a href="#" class="logo">VIDEOFLIX</a>
    </header>
    <div class="container">
        <div class="main-content">
            <div id="video-player">
                <video id="main-video" controls></video>
            </div>
            <div id="playlist">
                <div class="playlist-header">
                    <h2 style="margin: 0">Episodes</h2>
                </div>
                <div class="playlist-content">
                    <ul>
                        @for (int i = 0; i < Model.Count; i++)
                        {
                            <li>
                                <a href="#" onclick="playVideo('@Model[i]', this); return false;">
                                    <span class="episode-number">@(i + 1)</span>
                                    <span class="episode-title">@Model[i]</span>
                                </a>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <script>
        function playVideo(url, element) {
            document.querySelectorAll('#playlist a').forEach(a => a.classList.remove('active'));
            element.classList.add('active');

            var video = document.getElementById('main-video');
            if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = url;
            } else if (Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
            } else {
                alert("Your browser does not support HLS.");
            }
            video.play();
        }
    </script>
</body>
</html>