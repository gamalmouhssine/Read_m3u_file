@model List<string>

@{
    ViewData["Title"] = "My Playlists";
}

<div class="container mt-5">
    <h1 class="text-center mb-4">📁 My Playlists</h1>

    <!-- Upload M3U File -->
    <div class="custom-playlist-form mt-4">
        <h4 class="text-center">📤 Upload M3U File</h4>
        <form method="post" enctype="multipart/form-data" action="UploadM3UFile">
            <div class="form-group">
                <label for="m3uFile">Select a .m3u file:</label>
                <input type="file" id="m3uFile" name="file" class="form-control" accept=".m3u" required />
            </div>
            <div class="text-center mt-3">
                <button type="submit" class="btn btn-dark">Upload</button>
            </div>
        </form>
    </div>

    <!-- List of .m3u Files -->
    <div class="playlist-table p-3 mt-4">
        <h4 class="text-center">📂 My Files</h4>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>File Name</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var file in Model)
                {
                    <tr>
                        <td>@file</td>
                        <td>
                            <a href="@Url.Action("ViewChannels", new { fileName = file })" class="btn btn-success btn-sm">View Channels</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>